<!DOCTYPE html>
<html>
<head>
    <title>Files</title>
</head>
<body>
    <h1>Files List</h1>
    <ul>
    {% for file in files %}
        <li>{{ file.Key }} 
            <button data-filename="{{ file.Key }}" class="get-url-btn">Get Download Link</button>
        </li>
    {% endfor %}
    </ul>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function(){
            $('.get-url-btn').click(function(){
                var filename = $(this).attr('data-filename');
                $.get(`/files/${filename}/download-url`, function(data){
                    alert(`Download Link: ${data.url}`);
                });
            });
        });
    </script>
</body>
</html>
